<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/w3.css">
  <link rel="stylesheet" href="css/fontRaleway.css"> 

  <title>Blockly Headless CMS</title>

  <script src="./node_modules/blockly/blockly_compressed.js"></script>
  <script src="./node_modules/blockly/blocks_compressed.js"></script>
  <script src="./node_modules/blockly/javascript_compressed.js"></script>
  <script src="./node_modules/blockly/msg/en.js"></script>

  <style>
    body {
      background-color: #fff;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;
    }
    body,h1,h2,h3,h4,h5 {
      font-family: "Raleway", sans-serif
    }
  </style>
</head>

<body>
  <p>
    <p>
      <span  style="margin-left: 5px;">
        Workspace:
        <input id="workspaceName" type="text" value="unnamed">
      </span>
    <button onclick="downloadBlockWorkspace()">Save Block Workspace</button>
    <button onclick="loadBlockWorkspaceFromXmlFile()">Load Block Workspace</button>
    <button onclick="downloadJSON()">Download JSON</button>
    <button onclick="createBlogMiniPreview()">Mini Preview</button>
    <button onclick="createBlogNewPagePreview()">Preview In New Page</button>
  </p>

  <div id="blocklyDiv" style="height: 1000px; width: 50%;"></div>
  <div id="previewArea" style="height: 1000px; width: 50%; float: right; position: absolute; top: 0; right: 0;"></div>

  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <category name="REST" colour="%{BKY_TEXTS_HUE}">
      <block type="rest_api"></block>
      <block type="url_root"></block>
      <block type="url"></block>
      <block type="page_reference"></block>
      <block type="css_reference"></block>
    </category>
    <category name="Page Content" colour="%{BKY_MATH_HUE}">
      <block type="page"></block>
      <block type="section_div_span"></block>
      <block type="header"></block>
      <block type="paragraph"></block>
      <block type="image"></block>
      <block type="image_source"></block>
      <block type="link"></block>
      <block type="page_link"></block>
      <block type="form"></block>
      <block type="button"></block>
      <block type="input_field"></block>
      <block type="input_label"></block>
      <block type="empty_line"></block>
    </category>
    <category name="CSS" colour="%{BKY_VARIABLES_HUE}">
      <block type="css_file"></block>
      <block type="css_file_linker"></block>
      <block type="css_selector"></block>
      <block type="css_declaration"></block>
      <block type="css_style_preset"></block>
      <block type="css_style_preset_reference"></block>
      <block type="css_style_preset_w3css"></block>
    </category>
    <category name="Block Fragments" colour="%{BKY_PROCEDURES_HUE}">
      <block type="block_fragment"></block>
      <block type="block_fragment_reference"></block>
    </category>
  </xml>

  <xml xmlns="https://developers.google.com/blockly/xml" id="startBlocks" style="display: none">
    <block type="rest_api" x="60" y="20">
      <statement name="URL_ROOT">
        <block type="url_root">
          <field name="URL_ROOT">home</field>
          <statement name="URL">
            <block type="url">
              <field name="URL_PATH">about</field>
              <statement name="URL">
                <block type="page_reference">
                  <field name="PAGE_NAME">About</field>
                </block>
              </statement>
          </statement>
          <statement name="URL">
            <block type="url">
              <field name="URL_PATH">welcome</field>
              <statement name="URL">
                <block type="page_reference">
                  <field name="PAGE_NAME">Homepage</field>
                </block>
              </statement>
          </statement>
        </block>
      </statement>
    </block>
    <block type="page" x="500" y="20">
      <field name="PAGE_NAME">Homepage</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">1</field>
          <field name="TEXT">How to read quickly</field>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">home_about</field>
              <field name="TEXT">About</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">About</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">Be selective and tune into your intention.&#13;&#10; Before you pull a book from a
                shelf or open a&#13;&#10; journal article, ask yourself: why am I&#13;&#10; reading this? Why do I need
                this information?&#13;&#10; This pause for thought will hopefully help you&#13;&#10; cull all of the
                unnecessary material you would&#13;&#10; have otherwise flicked through absentmindedly.</field>
            </block>
          </statement>
        </block>
      </statement>
    </block>
    <block type="page" x="1050" y="20">
      <field name="PAGE_NAME">About</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">5</field>
          <field name="TEXT">About</field>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">about_home</field>
              <field name="TEXT">Home</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">Homepage</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">This blog is about reading.&#13;&#10; There is a lot of good information here.</field>
            </block>
          </statement>
        </block>
      </statement>
    </block>
  </xml>

  <script src="scripts/customRenderer.js"></script>
  <script src='scripts/block_definitions.js'></script>
  <script src='scripts/custom_json_generator.js'></script>
  <script src="scripts/showdown.js"></script>
  <script src="index.js"></script>

</body>

</html>