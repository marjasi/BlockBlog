<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Blockly Headless CMS</title>
  <script src="./node_modules/blockly/blockly_compressed.js"></script>
  <script src="./node_modules/blockly/blocks_compressed.js"></script>
  <script src="./node_modules/blockly/javascript_compressed.js"></script>
  <script src="./node_modules/blockly/msg/en.js"></script>

  <style>
    body {
      background-color: #fff;
      font-family: sans-serif;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;
    }
  </style>
</head>
<body>
  <p>
    <!-- <button onclick="showJSON()">Show JSON</button> -->
    <button onclick="downloadJSON()">Download JSON</button>
    <button onclick="createBlogPreview()">Preview</button>
  </p>

  <div id="blocklyDiv" style="height: 800px; width: 1600px;"></div>

  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <category name="REST" colour="%{BKY_TEXTS_HUE}">
      <block type="rest_api"></block>
    </category>
    <category name="URI" colour="%{BKY_LOGIC_HUE}">
      <block type="url_root"></block>
      <block type="url"></block>
    </category>
    <category name="Content" colour="%{BKY_MATH_HUE}">
      <block type="page"></block>
      <block type="page_reference"></block>
      <block type="page_link"></block>
      <block type="header"></block>
      <block type="paragraph"></block>
      <block type="image_property"></block>
      <block type="image"></block>
      <block type="link"></block>
      <block type="button"></block>
    </category>
  </xml>

  <xml xmlns="https://developers.google.com/blockly/xml" id="startBlocks" style="display: none">
    <block type="rest_api" x="60" y="20">
      <statement name="URL_ROOT">
        <block type="url_root">
          <field name="URL_ROOT">home</field>
          <!-- <statement name="URL">
            <block type="url">
              <field name="URL_PATH">books</field>
              <statement name="URL">
                <block type="page_reference">
                  <field name="PAGE_NAME">Books</field>
                </block>
              </statement> -->
              <!-- <statement name="URL">
                <block type="url">
                  <field name="URL_PATH">divine_comedy</field>
                  <statement name="URL">
                    <block type="page_reference">
                      <field name="PAGE_NAME">DivineComedy</field>
                    </block>
                  </statement>
              </statement>
          </statement> -->
          <statement name="URL">
            <block type="url">
              <field name="URL_PATH">about</field>
              <statement name="URL">
                <block type="page_reference">
                  <field name="PAGE_NAME">About</field>
                </block>
              </statement>
          </statement>
          <statement name="URL">
            <block type="url">
              <field name="URL_PATH">welcome</field>
              <statement name="URL">
                <block type="page_reference">
                  <field name="PAGE_NAME">Homepage</field>
                </block>
              </statement>
          </statement>
        </block>
      </statement>
    </block>
    <block type="page" x="500" y="20">
      <field name="PAGE_NAME">Homepage</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">1</field>
          <field name="TEXT">How to read quickly</field>
          <!-- <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">home_books</field>
              <field name="TEXT">What to read?</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">Books</field>
                </block>
              </value>
            </block>
          </statement> -->
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">home_about</field>
              <field name="TEXT">About</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">About</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">Be selective and tune into your intention.&#13;&#10; Before you pull a book from a shelf or open a&#13;&#10; journal article, ask yourself: why am I&#13;&#10; reading this? Why do I need this information?&#13;&#10; This pause for thought will hopefully help you&#13;&#10; cull all of the unnecessary material you would&#13;&#10; have otherwise flicked through absentmindedly.</field>
            </block>
          </statement>
          <!-- <statement name="CHILDREN">
            <block type="image_property">
              <field name="IMAGE_NAME">first_image</field>
              <value name="IMAGE">
                <block type="image"></block>
              </value>
            </block>
          </statement> -->
        </block>
      </statement>
    </block>
    <block type="page" x="1050" y="20">
      <field name="PAGE_NAME">About</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">5</field>
          <field name="TEXT">About</field>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">about_home</field>
              <field name="TEXT">Home</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">Homepage</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">This blog is about reading.&#13;&#10; There is a lot of good information here.</field>
            </block>
          </statement>
          <!-- <statement name="CHILDREN">
            <block type="image_property">
              <field name="IMAGE_NAME">first_image</field>
              <value name="IMAGE">
                <block type="image"></block>
              </value>
            </block>
          </statement> -->
        </block>
      </statement>
    </block>
    <!-- <block type="page" x="500" y="400">
      <field name="PAGE_NAME">Books</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">1</field>
          <field name="TEXT">What to read?</field>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">books_divine_comedy</field>
              <field name="TEXT">Divine Comedy</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">DivineComedy</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">books_home</field>
              <field name="TEXT">Home</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">Homepage</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_second_paragraph</field>
              <field name="TEXT">What a wonderful idea! Instead of reading a&#13;&#10; bunch of lists, how about we evaluate&#13;&#10; books based on all of the website info available and&#13;&#10; make one definitive list.</field>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">You can check various websites that have lists&#13;&#10; of the best books of all time. Although, the&#13;&#10; lists you will find on most of them will be rather&#13;&#10; subjective. I would recommend visiting thegreatestbooks.org. It generates a list of the&#13;&#10; best books based on lists on other best book websites.&#13;&#10; Each website is examined and the number of times a&#13;&#10; book appears on any list is tracked. Based on&#13;&#10; that number the books are put on the generated list.</field>
            </block>
          </statement>
        </block>
      </statement>
    </block> -->
    <!-- <block type="page" x="1050" y="400">
      <field name="PAGE_NAME">DivineComedy</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">1</field>
          <field name="TEXT">Divine Comedy</field>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">divine_comedy_books</field>
              <field name="TEXT">What to read?</field>
              <value name="PAGE_LINK">
                <block type="page_link">
                  <field name="PAGE_NAME">Books</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">It is not only a classic, but also a very valuable&#13;&#10; poem that gives insight about a human being's&#13;&#10; inner development. Dante travels through Hell,&#13;&#10; Purgatory and Heaven guided by Virgill. This&#13;&#10; journey encompasses Dante's spiritual growth.&#13;&#10; The poem was being written for 13 years from 1308&#13;&#10; to 1321. Not only the content of the poem, but also&#13;&#10; its creation involves change. Like life itself - there is&#13;&#10; nothing set in stone. Not even after the final&#13;&#10; moments, change never ends.</field>
            </block>
          </statement>
        </block>
      </statement>
    </block> -->
    <!-- <block type="rest_api" x="60" y="20">
      <statement name="RESOURCES">
        <block type="resource_definitions">
          <statement name="RESOURCES">
            <block type="resource_definition">
              <field name="RESOURCE_NAME">Product</field>
              <value name="RESOURCE_ID">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="RESOURCES">
            <block type="resource_definition">
              <field name="RESOURCE_NAME">Store</field>
              <value name="RESOURCE_ID">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID23</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="RESOURCES">
            <block type="resource_definition">
              <field name="RESOURCE_NAME">Customer</field>
              <value name="RESOURCE_ID">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID54</field>
                </block>
              </value>
            </block>
          </statement>
        </block>
      </statement>
      <statement name="URI_ROOT">
        <block type="uri_root">
          <field name="URI_ROOT">restapi</field>
          <statement name="URI">
            <block type="uri_static">
              <field name="URI_STATIC">products</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
              <statement name="URI">
                <block type="uri_static">
                  <field name="URI_STATIC">stores</field>
                  <value name="RESOURCE_LINKER">
                    <block type="resource_linker">
                      <field name="LINKER_VARIABLE">ID23</field>
                    </block>
                  </value>
                </block>
              </statement>
              <statement name="URI">
                <block type="uri_static">
                  <field name="URI_STATIC">customers</field>
                  <value name="RESOURCE_LINKER">
                    <block type="resource_linker">
                      <field name="LINKER_VARIABLE">ID54</field>
                    </block>
                  </value>
                </block>
              </statement>
            </block>
          </statement>
          <statement name="URI">
            <block type="uri_dynamic">
              <field name="URI_DYNAMIC">products</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="URI">
            <block type="uri_dynamic">
              <field name="URI_DYNAMIC">stores</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID23</field>
                </block>
              </value>
            </block>
          </statement>
        </block>
      </statement>
    </block> -->
  </xml>

  <script src='scripts/block_definitions.js'></script>
  <script src='scripts/custom_json_generator.js'></script>
  <script src="index.js"></script>

</body>
</html>
