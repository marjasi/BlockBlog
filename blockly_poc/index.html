<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Blockly REST API Designer</title>
  <script src="./node_modules/blockly/blockly_compressed.js"></script>
  <script src="./node_modules/blockly/blocks_compressed.js"></script>
  <script src="./node_modules/blockly/javascript_compressed.js"></script>
  <script src="./node_modules/blockly/msg/en.js"></script>

  <style>
    body {
      background-color: #fff;
      font-family: sans-serif;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;
    }
  </style>
</head>
<body>
  <p>
    <button onclick="showJSON()">Show JSON</button>
    <button onclick="downloadJSON()">Download JSON</button>
  </p>

  <div id="blocklyDiv" style="height: 800px; width: 1600px;"></div>

  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <category name="REST" colour="%{BKY_TEXTS_HUE}">
      <block type="rest_api"></block>
    </category>
    <category name="URI" colour="%{BKY_LOGIC_HUE}">
      <block type="uri_root"></block>
      <block type="uri_static"></block>
      <block type="uri_dynamic"></block>
      <block type="resource_linker"></block>
    </category>
    <category name="Resource" colour="%{BKY_LOOPS_HUE}">
      <block type="resource_definitions"></block>
      <block type="resource_definition"></block>
      <block type="resource_linker"></block>
    </category>
    <category name="Content" colour="%{BKY_MATH_HUE}">
      <block type="content_type"></block>
      <block type="content_type_reference"></block>
      <block type="content_type_link"></block>
      <block type="header"></block>
      <block type="paragraph"></block>
      <block type="image_property"></block>
      <block type="image"></block>
      <block type="link"></block>
    </category>
  </xml>

  <xml xmlns="https://developers.google.com/blockly/xml" id="startBlocks" style="display: none">
    <block type="rest_api" x="60" y="20">
      <statement name="RESOURCES">
        <block type="resource_definitions">
          <statement name="RESOURCES">
            <block type="resource_definition">
              <field name="RESOURCE_NAME">Page</field>
              <value name="RESOURCE_ID">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
            </block>
          </statement>
        </block>
      </statement>
      <statement name="URI_ROOT">
        <block type="uri_root">
          <field name="URI_ROOT">home</field>
          <statement name="URI">
            <block type="uri_static">
              <field name="URI_STATIC">welcome</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
              <statement name="URI">
                <block type="content_type_reference">
                  <field name="CONTENT_TYPE">Homepage</field>
                </block>
              </statement>
          </statement>
          <statement name="URI">
            <block type="uri_static">
              <field name="URI_STATIC">about</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
              <statement name="URI">
                <block type="content_type_reference">
                  <field name="CONTENT_TYPE">About</field>
                </block>
              </statement>
          </statement>
        </block>
      </statement>
    </block>
    <block type="content_type" x="500" y="20">
      <field name="CONTENT_TYPE">Homepage</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">1</field>
          <field name="TEXT">How to read quickly</field>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">Be selective and tune into your intention.&#13;&#10; Before you pull a book from a shelf or open a&#13;&#10;journal article, ask yourself: why am I&#13;&#10;reading this? Why do I need this information?&#13;&#10; This pause for thought will hopefully help you&#13;&#10;cull all of theunnecessary material you would&#13;&#10;have otherwise flicked through absentmindedly.</field>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">home_about</field>
              <field name="TEXT">About</field>
              <value name="CONTENT_TYPE">
                <block type="content_type_link">
                  <field name="CONTENT_TYPE">About</field>
                </block>
              </value>
            </block>
          </statement>
          <!-- <statement name="CHILDREN">
            <block type="image_property">
              <field name="IMAGE_NAME">first_image</field>
              <value name="IMAGE">
                <block type="image"></block>
              </value>
            </block>
          </statement> -->
        </block>
      </statement>
    </block>
    <block type="content_type" x="1000" y="20">
      <field name="CONTENT_TYPE">About</field>
      <statement name="PROPERTIES">
        <block type="header">
          <field name="HEADER_NAME">main_header</field>
          <field name="LEVEL">5</field>
          <field name="TEXT">About</field>
          <statement name="CHILDREN">
            <block type="paragraph">
              <field name="PARAGRAPH_NAME">main_first_paragraph</field>
              <field name="TEXT">This blog is about reading.&#13;&#10; There is a lot of good information here.</field>
            </block>
          </statement>
          <statement name="CHILDREN">
            <block type="link">
              <field name="LINK_NAME">about_home</field>
              <field name="TEXT">Home</field>
              <value name="CONTENT_TYPE">
                <block type="content_type_link">
                  <field name="CONTENT_TYPE">Homepage</field>
                </block>
              </value>
            </block>
          </statement>
          <!-- <statement name="CHILDREN">
            <block type="image_property">
              <field name="IMAGE_NAME">first_image</field>
              <value name="IMAGE">
                <block type="image"></block>
              </value>
            </block>
          </statement> -->
        </block>
      </statement>
    </block>
    <!-- <block type="rest_api" x="60" y="20">
      <statement name="RESOURCES">
        <block type="resource_definitions">
          <statement name="RESOURCES">
            <block type="resource_definition">
              <field name="RESOURCE_NAME">Product</field>
              <value name="RESOURCE_ID">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="RESOURCES">
            <block type="resource_definition">
              <field name="RESOURCE_NAME">Store</field>
              <value name="RESOURCE_ID">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID23</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="RESOURCES">
            <block type="resource_definition">
              <field name="RESOURCE_NAME">Customer</field>
              <value name="RESOURCE_ID">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID54</field>
                </block>
              </value>
            </block>
          </statement>
        </block>
      </statement>
      <statement name="URI_ROOT">
        <block type="uri_root">
          <field name="URI_ROOT">restapi</field>
          <statement name="URI">
            <block type="uri_static">
              <field name="URI_STATIC">products</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
              <statement name="URI">
                <block type="uri_static">
                  <field name="URI_STATIC">stores</field>
                  <value name="RESOURCE_LINKER">
                    <block type="resource_linker">
                      <field name="LINKER_VARIABLE">ID23</field>
                    </block>
                  </value>
                </block>
              </statement>
              <statement name="URI">
                <block type="uri_static">
                  <field name="URI_STATIC">customers</field>
                  <value name="RESOURCE_LINKER">
                    <block type="resource_linker">
                      <field name="LINKER_VARIABLE">ID54</field>
                    </block>
                  </value>
                </block>
              </statement>
            </block>
          </statement>
          <statement name="URI">
            <block type="uri_dynamic">
              <field name="URI_DYNAMIC">products</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID1</field>
                </block>
              </value>
            </block>
          </statement>
          <statement name="URI">
            <block type="uri_dynamic">
              <field name="URI_DYNAMIC">stores</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID23</field>
                </block>
              </value>
            </block>
          </statement>
        </block>
      </statement>
    </block> -->
  </xml>

  <script src='scripts/block_definitions.js'></script>
  <script src='scripts/custom_json_generator.js'></script>
  <script src="index.js"></script>

</body>
</html>
