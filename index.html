<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Blockly REST API Designer</title>
  <script src="./node_modules/blockly/blockly_compressed.js"></script>
  <script src="./node_modules/blockly/blocks_compressed.js"></script>
  <script src="./node_modules/blockly/javascript_compressed.js"></script>
  <script src="./node_modules/blockly/msg/en.js"></script>

  <style>
    body {
      background-color: #fff;
      font-family: sans-serif;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;
    }
  </style>
</head>
<body>
  <p>
    <button onclick="showJSON()">Show JSON</button>
    <button onclick="downloadJSON()">Download JSON</button>
  </p>

  <div id="blocklyDiv" style="height: 800px; width: 1600px;"></div>

  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <category name="URI" colour="%{BKY_LOGIC_HUE}">
      <block type="uri_root"></block>
      <block type="uri_static"></block>
      <block type="uri_dynamic"></block>
      <block type="resource_linker"></block>
    </category>
    <category name="Resource" colour="%{BKY_LOOPS_HUE}">
      <block type="resource_definitions"></block>
      <block type="resource_definition"></block>
      <block type="resource_linker"></block>
    </category>
  </xml>

  <xml xmlns="https://developers.google.com/blockly/xml" id="startBlocks" style="display: none">
    <block type="resource_definitions" x="60" y="20">
      <statement name="RESOURCES">
        <block type="resource_definition">
          <value name="RESOURCE_ID">
            <block type="resource_linker">
              <field name="LINKER_VARIABLE">ID1</field>
            </block>
          </value>
        </block>
      </statement>
      <statement name="RESOURCES">
        <block type="resource_definition">
          <value name="RESOURCE_ID">
            <block type="resource_linker">
              <field name="LINKER_VARIABLE">ID23</field>
            </block>
          </value>
        </block>
      </statement>
      <statement name="RESOURCES">
        <block type="resource_definition">
          <value name="RESOURCE_ID">
            <block type="resource_linker">
              <field name="LINKER_VARIABLE">ID54</field>
            </block>
          </value>
        </block>
      </statement>
    </block>
    <block type="uri_root" x="60" y="260">
      <field name="URI_ROOT">restapi</field>
      <statement name="URI">
        <block type="uri_static">
          <field name="URI_STATIC">products</field>
          <value name="RESOURCE_LINKER">
            <block type="resource_linker">
              <field name="LINKER_VARIABLE">ID1</field>
            </block>
          </value>
          <statement name="URI">
            <block type="uri_static">
              <field name="URI_STATIC">customers</field>
              <value name="RESOURCE_LINKER">
                <block type="resource_linker">
                  <field name="LINKER_VARIABLE">ID54</field>
                </block>
              </value>
          </statement>
        </block>
      </statement>
      <statement name="URI">
        <block type="uri_dynamic">
          <field name="URI_DYNAMIC">products</field>
          <value name="RESOURCE_LINKER">
            <block type="resource_linker">
              <field name="LINKER_VARIABLE">ID1</field>
            </block>
          </value>
        </block>
      </statement>
      <statement name="URI">
        <block type="uri_dynamic">
          <field name="URI_DYNAMIC">stores</field>
          <value name="RESOURCE_LINKER">
            <block type="resource_linker">
              <field name="LINKER_VARIABLE">ID23</field>
            </block>
          </value>
        </block>
      </statement>
    </block>
  </xml>

  <script src='scripts/block_definitions.js'></script>
  <script src='scripts/custom_json_generator.js'></script>
  <script src="index.js"></script>

</body>
</html>
